{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cristina Aghei\\\\facultate\\\\licenta\\\\parteaPractica\\\\animals-shelter-app\\\\src\\\\components\\\\adoption.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { PawPrint, Search, Loader2, MapPin, LogOut, Menu, X } from \"lucide-react\";\nimport Button from \"./ui/Button\";\nimport Input from \"./ui/Input\";\nimport { AnimalImage } from \"./catalog\";\n\n// The API base URL - adjust as needed for your environment\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = \"http://localhost:8083\";\n\n// Function to remove diacritics from Romanian text\nconst removeDiacritics = text => {\n  const diacriticsMap = {\n    ă: \"a\",\n    â: \"a\",\n    î: \"i\",\n    ș: \"s\",\n    ț: \"t\",\n    Ă: \"A\",\n    Â: \"A\",\n    Î: \"I\",\n    Ș: \"S\",\n    Ț: \"T\"\n  };\n  return text.replace(/[ăâîșțĂÂÎȘȚ]/g, match => diacriticsMap[match] || match);\n};\n\n// Normalization functions\nconst normalizeSpecies = species => {\n  if (!species) return species;\n  const lowerSpecies = species.toLowerCase().trim();\n\n  // Check for dog variations\n  if (lowerSpecies.includes(\"catel\") || lowerSpecies.includes(\"dog\") || lowerSpecies.includes(\"caine\")) {\n    return \"Caine\";\n  }\n\n  // Check for cat variations\n  if (lowerSpecies.includes(\"pisica\") || lowerSpecies.includes(\"cat\")) {\n    return \"Pisica\";\n  }\n\n  // Return original if no match found\n  return species;\n};\nconst normalizeUserType = type => {\n  if (!type) return type;\n  const lowerType = type.toLowerCase().trim();\n\n  // Check for individual variations\n  if (lowerType.includes(\"individual\") || lowerType.includes(\"person\") || lowerType.includes(\"persoana\") || lowerType.includes(\"fizica\")) {\n    return \"Persoana individuala\";\n  }\n\n  // Check for shelter variations\n  if (lowerType.includes(\"shelter\") || lowerType.includes(\"adapost\") || lowerType.includes(\"organizatie\") || lowerType.includes(\"organization\")) {\n    return \"Adapost\";\n  }\n\n  // Return original if no match found\n  return type;\n};\nconst PetCard = ({\n  pet,\n  location,\n  userInfo,\n  onAdopt,\n  onFoster,\n  onDistantAdopt,\n  index\n}) => {\n  // Get available adoption types for this specific animal\n  const getAvailableAdoptionTypes = animal => {\n    // If no adoption types are specified, show all buttons (backward compatibility)\n    if (!animal.typesOfAdoptions && !animal.adoptionTypes) {\n      return {\n        adoption: true,\n        fostering: true,\n        distantAdoption: true\n      };\n    }\n\n    // Handle the backend format: typesOfAdoptions array\n    if (animal.typesOfAdoptions && Array.isArray(animal.typesOfAdoptions)) {\n      const adoptionTypes = {\n        adoption: false,\n        fostering: false,\n        distantAdoption: false\n      };\n\n      // Check each type in the array\n      animal.typesOfAdoptions.forEach(type => {\n        const lowerType = type.toLowerCase();\n        if (lowerType.includes(\"adoptie permanenta\") || lowerType.includes(\"adoptie_permanenta\")) {\n          adoptionTypes.adoption = true;\n        }\n        if (lowerType.includes(\"foster\")) {\n          adoptionTypes.fostering = true;\n        }\n        if (lowerType.includes(\"adoptie la distanta\") || lowerType.includes(\"adoptie_la_distanta\")) {\n          adoptionTypes.distantAdoption = true;\n        }\n      });\n      return adoptionTypes;\n    }\n\n    // Handle the editor format: adoptionTypes object (for backward compatibility)\n    if (animal.adoptionTypes && typeof animal.adoptionTypes === \"object\") {\n      return {\n        adoption: animal.adoptionTypes.adoptie_permanenta || animal.adoptionTypes.adoption || false,\n        fostering: animal.adoptionTypes.foster || animal.adoptionTypes.fostering || false,\n        distantAdoption: animal.adoptionTypes.adoptie_la_distanta || animal.adoptionTypes.distantAdoption || false\n      };\n    }\n\n    // Default fallback - show all\n    return {\n      adoption: true,\n      fostering: true,\n      distantAdoption: true\n    };\n  };\n\n  // Helper function to get the primary image from pet data\n  const getPrimaryImage = pet => {\n    // Handle both single image and images array\n    if (pet.images && Array.isArray(pet.images) && pet.images.length > 0) {\n      return pet.images[0];\n    }\n    if (pet.image) {\n      return pet.image;\n    }\n    return null;\n  };\n  const availableAdoptionTypes = getAvailableAdoptionTypes(pet);\n  const adoptionTypeCount = Object.values(availableAdoptionTypes).filter(Boolean).length;\n  const primaryImage = getPrimaryImage(pet);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-all duration-300 hover:scale-105\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full h-48 sm:h-56 lg:h-48 bg-gray-50 flex items-center justify-center overflow-hidden\",\n      children: /*#__PURE__*/_jsxDEV(AnimalImage, {\n        src: primaryImage,\n        alt: pet.name || \"Imagine animal\",\n        animalName: pet.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-3 sm:p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg sm:text-xl font-semibold mb-2 text-gray-900 truncate\",\n        children: pet.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-1 sm:space-y-2 mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm sm:text-base text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: \"Specia:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 25\n          }, this), \" \", normalizeSpecies(pet.species)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm sm:text-base text-gray-600 line-clamp-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: \"Descrierea:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 25\n          }, this), \" \", pet.description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this), userInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3 p-2 bg-gray-50 rounded-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs sm:text-sm text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: \"Proprietar:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 29\n          }, this), \" \", userInfo.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs sm:text-sm text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: \"Tip:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 29\n          }, this), \" \", normalizeUserType(userInfo.type)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start gap-1 mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(MapPin, {\n          className: \"h-4 w-4 text-gray-500 mt-0.5 flex-shrink-0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs sm:text-sm text-gray-600 line-clamp-2\",\n          children: location || \"Se încarcă locația...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs sm:text-sm font-medium text-gray-700 mb-2\",\n          children: \"Tipuri disponibile:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-1\",\n          children: [availableAdoptionTypes.adoption && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs\",\n            children: \"Adop\\u021Bie\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 29\n          }, this), availableAdoptionTypes.fostering && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs\",\n            children: \"Foster\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 29\n          }, this), availableAdoptionTypes.distantAdoption && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs\",\n            children: \"Adop\\u021Bie la distan\\u021B\\u0103\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: [availableAdoptionTypes.adoption && /*#__PURE__*/_jsxDEV(Button, {\n          className: \"w-full bg-green-600 hover:bg-green-700 text-white text-xs sm:text-sm py-2\",\n          onClick: () => onAdopt(pet.id),\n          children: \"Adop\\u021Bie\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 25\n        }, this), availableAdoptionTypes.fostering && /*#__PURE__*/_jsxDEV(Button, {\n          className: \"w-full bg-blue-600 hover:bg-blue-700 text-white text-xs sm:text-sm py-2\",\n          onClick: () => onFoster(pet.id),\n          children: \"Foster\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 25\n        }, this), availableAdoptionTypes.distantAdoption && /*#__PURE__*/_jsxDEV(Button, {\n          className: \"w-full bg-purple-600 hover:bg-purple-700 text-white text-xs sm:text-sm py-2\",\n          onClick: () => onDistantAdopt(pet.id),\n          children: \"Adop\\u021Bie la distan\\u021B\\u0103\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }, this), adoptionTypeCount === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-3\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs sm:text-sm text-gray-500\",\n          children: \"Nu sunt disponibile tipuri de adop\\u021Bie\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 9\n  }, this);\n};\n_c = PetCard;\nconst semanticSearch = async (query, adoptionType, topN = 50) => {\n  // Map frontend adoption types to backend expected values (with diacritics removed)\n  const adoptionTypeMapping = {\n    standard: \"adoptie permanenta\",\n    // \"adopție_permanentă\" -> \"adoptie permanenta\"\n    foster: \"foster\",\n    distant: \"adoptie la distanta\" // \"adopție_la_distanță\" -> \"adoptie la distanta\"\n  };\n\n  // Get the backend adoption type value (already without diacritics)\n  const backendAdoptionType = adoptionTypeMapping[adoptionType] || adoptionType;\n\n  // Build the URL with query parameters\n  const searchParams = new URLSearchParams({\n    query: query,\n    topN: topN.toString()\n  });\n\n  // Add the adoption type as a list parameter (without diacritics)\n  searchParams.append(\"typesOfAdoption\", backendAdoptionType);\n  console.log(\"Sending request with params:\", searchParams.toString());\n  console.log(\"Backend adoption type (no diacritics):\", backendAdoptionType);\n  const response = await fetch(`${API_BASE_URL}/api/embeddings/semantic-search?${searchParams.toString()}`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  });\n  if (!response.ok) {\n    const errorText = await response.text();\n    console.error(\"Search failed:\", response.status, errorText);\n    throw new Error(`Nu am putut efectua căutarea semantică: ${response.status}`);\n  }\n  const data = await response.json();\n\n  // DEBUG: Log the exact order received from backend\n  console.log(\"=== BACKEND RESPONSE ORDER ===\");\n  data.forEach((animal, index) => {\n    console.log(`${index + 1}. ${animal.name} (ID: ${animal.id})`);\n  });\n  console.log(\"===============================\");\n  return data;\n};\nconst AdoptionPage = () => {\n  _s();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [pets, setPets] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [adoptionType, setAdoptionType] = useState(\"standard\");\n  const [locations, setLocations] = useState({});\n  const [userInfo, setUserInfo] = useState({}); // Add user info state\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const handleSearch = async e => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    // Clear previous results and locations to avoid stale state\n    setPets([]);\n    setLocations({});\n    setUserInfo({}); // Clear user info\n\n    try {\n      // Pass adoption type to the search function\n      const animalResults = await semanticSearch(searchQuery, adoptionType);\n\n      // DEBUG: Log the order received from backend\n      console.log(\"=== BACKEND RESPONSE ORDER (in handleSearch) ===\");\n      animalResults.forEach((animal, index) => {\n        console.log(`${index + 1}. ${animal.name} (ID: ${animal.id})`);\n      });\n      console.log(\"===============================\");\n\n      // CRITICAL: Set pets state immediately with the exact order from backend\n      // React's useState will preserve the array order\n      setPets([...animalResults]); // Create new array to ensure fresh state\n\n      // DEBUG: Verify what we're setting\n      console.log(\"=== SETTING PETS STATE ORDER ===\");\n      animalResults.forEach((animal, index) => {\n        console.log(`${index + 1}. ${animal.name} (ID: ${animal.id})`);\n      });\n      console.log(\"=================================\");\n\n      // Fetch locations and user info asynchronously but don't let it affect the order\n      // Use Promise.allSettled to handle all location fetches\n      const locationPromises = animalResults.map(async animal => {\n        if (animal.userId) {\n          try {\n            const result = await fetchUserLocationAndInfoForAnimal(animal.id, animal.userId);\n            return {\n              animalId: animal.id,\n              ...result\n            };\n          } catch (error) {\n            console.warn(`Failed to fetch location for animal ${animal.id}:`, error);\n            return {\n              animalId: animal.id,\n              location: \"Locație indisponibilă\",\n              userInfo: null\n            };\n          }\n        }\n        return {\n          animalId: animal.id,\n          location: \"Locație indisponibilă\",\n          userInfo: null\n        };\n      });\n\n      // Wait for all location fetches to complete\n      const locationResults = await Promise.allSettled(locationPromises);\n\n      // Update locations and user info state with all results at once\n      const newLocations = {};\n      const newUserInfo = {};\n      locationResults.forEach((result, index) => {\n        if (result.status === \"fulfilled\" && result.value) {\n          newLocations[result.value.animalId] = result.value.location;\n          if (result.value.userInfo) {\n            newUserInfo[result.value.animalId] = result.value.userInfo;\n          }\n        } else {\n          newLocations[animalResults[index].id] = \"Locație indisponibilă\";\n        }\n      });\n      setLocations(newLocations);\n      setUserInfo(newUserInfo);\n    } catch (error) {\n      console.error(\"Error performing search:\", error);\n      // You might want to show an error message to the user here\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Helper function to fetch location and user info for a single animal\n  const fetchUserLocationAndInfoForAnimal = async (animalId, userId) => {\n    const response = await fetch(`${API_BASE_URL}/users/${userId}`);\n    if (!response.ok) {\n      throw new Error(`Failed to fetch user data for ${userId}`);\n    }\n    const userData = await response.json();\n\n    // Extract user info\n    const userInfo = {\n      name: userData.name,\n      type: userData.type\n    };\n    let location = \"Locație indisponibilă\";\n    if (userData.location && userData.location.coordinates && userData.location.coordinates.length === 2) {\n      const [longitude, latitude] = userData.location.coordinates;\n\n      // Validate coordinates\n      if (typeof latitude === \"number\" && typeof longitude === \"number\" && latitude >= -90 && latitude <= 90 && longitude >= -180 && longitude <= 180) {\n        location = await fetchLocationText(latitude, longitude);\n      } else {\n        console.warn(`Invalid coordinates for animal ${animalId}: lat=${latitude}, lng=${longitude}`);\n      }\n    }\n    return {\n      location,\n      userInfo\n    };\n  };\n\n  // Helper function to fetch location text from coordinates\n  const fetchLocationText = async (latitude, longitude) => {\n    const response = await fetch(`${API_BASE_URL}/reverse-geocode?latitude=${latitude}&longitude=${longitude}`);\n    if (!response.ok) {\n      console.warn(`Reverse geocoding failed for coordinates ${latitude}, ${longitude}. Status: ${response.status}`);\n      return \"Locație indisponibilă\";\n    }\n    return await response.text();\n  };\n  const navigateToAdoption = animalId => {\n    window.location.href = `/book-adoption?animalId=${animalId}&type=standard`;\n  };\n  const navigateToFostering = animalId => {\n    window.location.href = `/fostering?animalId=${animalId}&type=foster`;\n  };\n  const navigateToDistantAdoption = animalId => {\n    window.location.href = `/distantAdoption?animalId=${animalId}&type=distant`;\n  };\n\n  // DEBUG: Log the pets state when it changes\n  console.log(\"=== CURRENT PETS STATE ORDER ===\");\n  pets.forEach((pet, index) => {\n    console.log(`${index + 1}. ${pet.name} (ID: ${pet.id})`);\n  });\n  console.log(\"=================================\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-white border-b shadow-sm sticky top-0 z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex h-16 items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/home\",\n            className: \"flex items-center gap-2 flex-shrink-0\",\n            children: [/*#__PURE__*/_jsxDEV(PawPrint, {\n              className: \"h-6 w-6 text-green-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg sm:text-xl font-bold\",\n              children: \"PetPal Adoptions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n            className: \"hidden lg:flex items-center gap-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"text-sm font-medium hover:text-green-600 transition-colors\",\n              href: \"/home\",\n              children: \"Acas\\u0103\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"text-sm font-medium hover:text-green-600 transition-colors\",\n              href: \"/adoption\",\n              children: \"Adopt\\u0103 acum\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"text-sm font-medium hover:text-green-600 transition-colors\",\n              href: \"/editor_catalog\",\n              children: \"Adaug\\u0103 anun\\u021B adop\\u021Bie\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"text-sm font-medium hover:text-green-600 transition-colors\",\n              href: \"/info\",\n              children: \"\\xCEntreab\\u0103PetPal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"text-sm font-medium hover:text-green-600 transition-colors\",\n              href: \"/community\",\n              children: \"Al\\u0103tur\\u0103-te comunit\\u0103\\u021Bii\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"flex items-center gap-1 text-sm font-medium text-red-600 hover:text-red-700 transition-colors\",\n              onClick: () => {\n                console.log(\"Logging out\");\n                window.location.href = \"/login\";\n              },\n              children: [/*#__PURE__*/_jsxDEV(LogOut, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 33\n              }, this), \"Deconectare\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"lg:hidden p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100\",\n            onClick: () => setMobileMenuOpen(!mobileMenuOpen),\n            children: mobileMenuOpen ? /*#__PURE__*/_jsxDEV(X, {\n              className: \"h-6 w-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 47\n            }, this) : /*#__PURE__*/_jsxDEV(Menu, {\n              className: \"h-6 w-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 75\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 21\n        }, this), mobileMenuOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:hidden border-t bg-white\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-2 pt-2 pb-3 space-y-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/home\",\n              className: \"block px-3 py-2 text-base font-medium text-gray-700 hover:text-green-600 hover:bg-gray-50 rounded-md\",\n              children: \"Acas\\u0103\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/adoption\",\n              className: \"block px-3 py-2 text-base font-medium text-gray-700 hover:text-green-600 hover:bg-gray-50 rounded-md\",\n              children: \"Adopt\\u0103 acum\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/editor_catalog\",\n              className: \"block px-3 py-2 text-base font-medium text-gray-700 hover:text-green-600 hover:bg-gray-50 rounded-md\",\n              children: \"Adaug\\u0103 anun\\u021B adop\\u021Bie\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/info\",\n              className: \"block px-3 py-2 text-base font-medium text-gray-700 hover:text-green-600 hover:bg-gray-50 rounded-md\",\n              children: \"\\xCEntreab\\u0103PetPal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/community\",\n              className: \"block px-3 py-2 text-base font-medium text-gray-700 hover:text-green-600 hover:bg-gray-50 rounded-md\",\n              children: \"Al\\u0103tur\\u0103-te comunit\\u0103\\u021Bii\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"flex items-center gap-2 w-full px-3 py-2 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md\",\n              onClick: () => {\n                console.log(\"Logging out\");\n                window.location.href = \"/login\";\n              },\n              children: [/*#__PURE__*/_jsxDEV(LogOut, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 37\n              }, this), \"Deconectare\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-6 sm:mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl sm:text-3xl lg:text-4xl font-bold mb-4 sm:mb-6 text-gray-900\",\n          children: \"G\\u0103se\\u0219te-\\u021Bi noul membru al familiei!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-5xl mx-auto mb-6 sm:mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSearch,\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col lg:flex-row gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(Search, {\n                className: \"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 sm:h-6 sm:w-6 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                id: \"searchQuery\",\n                value: searchQuery,\n                onChange: e => setSearchQuery(e.target.value),\n                placeholder: \"Ex: pisic\\u0103 bl\\xE2nd\\u0103, potrivit\\u0103 pentru familie cu copii\",\n                className: \"pl-10 sm:pl-12 py-3 sm:py-4 text-sm sm:text-lg w-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lg:w-64\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: adoptionType,\n                onChange: e => setAdoptionType(e.target.value),\n                className: \"w-full px-3 py-3 sm:py-4 text-sm sm:text-base border rounded-md focus:outline-none focus:ring-2 focus:ring-green-600\",\n                \"aria-label\": \"Tip rela\\u021Bie\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"standard\",\n                  children: \"Adop\\u021Bie permanent\\u0103\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 568,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"foster\",\n                  children: \"Foster (temporar)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 569,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"distant\",\n                  children: \"Adop\\u021Bie la distan\\u021B\\u0103\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 570,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 562,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 561,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lg:w-32\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"w-full py-3 sm:py-4 px-4 sm:px-6 text-sm sm:text-lg bg-green-600 hover:bg-green-700 flex items-center justify-center\",\n                disabled: isLoading,\n                onClick: handleSearch,\n                type: \"submit\",\n                children: isLoading ? /*#__PURE__*/_jsxDEV(Loader2, {\n                  className: \"animate-spin w-5 h-5 sm:w-6 sm:h-6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 583,\n                  columnNumber: 41\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Search, {\n                    className: \"w-4 h-4 sm:w-5 sm:h-5 mr-1 sm:mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 586,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"hidden sm:inline\",\n                    children: \"Caut\\u0103\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 587,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"sm:hidden\",\n                    children: \"Caut\\u0103\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 588,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 576,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 575,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 547,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs sm:text-sm text-gray-600 mt-2 px-1\",\n            children: [adoptionType === \"standard\" && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Adop\\u021Bia permanent\\u0103 \\xEEnseamn\\u0103 c\\u0103 animalul va deveni pe deplin membrul familiei tale.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 33\n            }, this), adoptionType === \"foster\" && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Foster (temporar) - ofer\\u0103 un c\\u0103min temporar unui animal p\\xE2n\\u0103 c\\xE2nd acesta \\xEE\\u0219i g\\u0103se\\u0219te o familie permanent\\u0103.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 601,\n              columnNumber: 33\n            }, this), adoptionType === \"distant\" && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Adop\\u021Bia la distan\\u021B\\u0103 - sprijini financiar un animal care r\\u0103m\\xE2ne \\xEEn ad\\u0103post, primind actualiz\\u0103ri regulate.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8\",\n        children: pets.map((pet, index) => /*#__PURE__*/_jsxDEV(PetCard, {\n          pet: pet,\n          location: locations[pet.id],\n          userInfo: userInfo[pet.id],\n          onAdopt: navigateToAdoption,\n          onFoster: navigateToFostering,\n          onDistantAdopt: navigateToDistantAdoption,\n          index: index\n        }, pet.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 617,\n        columnNumber: 17\n      }, this), pets.length === 0 && !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mt-8 text-gray-600\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm sm:text-base\",\n          children: [\"Nu ai g\\u0103sit ce cau\\u021Bi?\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/catalog\",\n            className: \"text-green-600 font-semibold hover:underline\",\n            children: \"Vezi toate anun\\u021Burile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 635,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 634,\n        columnNumber: 21\n      }, this), pets.length > 0 && !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mt-8 mb-12 text-gray-600\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm sm:text-base\",\n          children: [\"Nu ai g\\u0103sit ce cau\\u021Bi?\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/catalog\",\n            className: \"text-green-600 font-semibold hover:underline\",\n            children: \"Vezi toate anun\\u021Burile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 649,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 647,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 646,\n        columnNumber: 21\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mt-8\",\n        children: [/*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"animate-spin h-6 w-6 sm:h-8 sm:w-8 mx-auto text-green-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 659,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-sm sm:text-base text-gray-600\",\n          children: \"Se \\xEEncarc\\u0103 rezultatele...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 660,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 658,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 436,\n    columnNumber: 9\n  }, this);\n};\n_s(AdoptionPage, \"lEGiQ6qGa7IV9e7Yit2Tm0UX7os=\");\n_c2 = AdoptionPage;\nexport default AdoptionPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"PetCard\");\n$RefreshReg$(_c2, \"AdoptionPage\");","map":{"version":3,"names":["useState","PawPrint","Search","Loader2","MapPin","LogOut","Menu","X","Button","Input","AnimalImage","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE_URL","removeDiacritics","text","diacriticsMap","ă","â","î","ș","ț","Ă","Â","Î","Ș","Ț","replace","match","normalizeSpecies","species","lowerSpecies","toLowerCase","trim","includes","normalizeUserType","type","lowerType","PetCard","pet","location","userInfo","onAdopt","onFoster","onDistantAdopt","index","getAvailableAdoptionTypes","animal","typesOfAdoptions","adoptionTypes","adoption","fostering","distantAdoption","Array","isArray","forEach","adoptie_permanenta","foster","adoptie_la_distanta","getPrimaryImage","images","length","image","availableAdoptionTypes","adoptionTypeCount","Object","values","filter","Boolean","primaryImage","className","children","src","alt","name","animalName","fileName","_jsxFileName","lineNumber","columnNumber","description","onClick","id","_c","semanticSearch","query","adoptionType","topN","adoptionTypeMapping","standard","distant","backendAdoptionType","searchParams","URLSearchParams","toString","append","console","log","response","fetch","method","headers","ok","errorText","error","status","Error","data","json","AdoptionPage","_s","searchQuery","setSearchQuery","pets","setPets","isLoading","setIsLoading","setAdoptionType","locations","setLocations","setUserInfo","mobileMenuOpen","setMobileMenuOpen","handleSearch","e","preventDefault","animalResults","locationPromises","map","userId","result","fetchUserLocationAndInfoForAnimal","animalId","warn","locationResults","Promise","allSettled","newLocations","newUserInfo","value","userData","coordinates","longitude","latitude","fetchLocationText","navigateToAdoption","window","href","navigateToFostering","navigateToDistantAdoption","onSubmit","onChange","target","placeholder","disabled","_c2","$RefreshReg$"],"sources":["C:/Users/Cristina Aghei/facultate/licenta/parteaPractica/animals-shelter-app/src/components/adoption.js"],"sourcesContent":["import type React from \"react\"\r\nimport { useState } from \"react\"\r\nimport { PawPrint, Search, Loader2, MapPin, LogOut, Menu, X } from \"lucide-react\"\r\nimport  Button  from \"./ui/Button\"\r\nimport  Input  from \"./ui/Input\"\r\nimport { AnimalImage } from \"./catalog\"\r\n\r\n// The API base URL - adjust as needed for your environment\r\nconst API_BASE_URL = \"http://localhost:8083\"\r\n\r\n// Function to remove diacritics from Romanian text\r\nconst removeDiacritics = (text: string): string => {\r\n    const diacriticsMap = {\r\n        ă: \"a\",\r\n        â: \"a\",\r\n        î: \"i\",\r\n        ș: \"s\",\r\n        ț: \"t\",\r\n        Ă: \"A\",\r\n        Â: \"A\",\r\n        Î: \"I\",\r\n        Ș: \"S\",\r\n        Ț: \"T\",\r\n    }\r\n\r\n    return text.replace(/[ăâîșțĂÂÎȘȚ]/g, (match) => diacriticsMap[match] || match)\r\n}\r\n\r\n// Normalization functions\r\nconst normalizeSpecies = (species) => {\r\n    if (!species) return species\r\n\r\n    const lowerSpecies = species.toLowerCase().trim()\r\n\r\n    // Check for dog variations\r\n    if (lowerSpecies.includes(\"catel\") || lowerSpecies.includes(\"dog\") || lowerSpecies.includes(\"caine\")) {\r\n        return \"Caine\"\r\n    }\r\n\r\n    // Check for cat variations\r\n    if (lowerSpecies.includes(\"pisica\") || lowerSpecies.includes(\"cat\")) {\r\n        return \"Pisica\"\r\n    }\r\n\r\n    // Return original if no match found\r\n    return species\r\n}\r\n\r\nconst normalizeUserType = (type) => {\r\n    if (!type) return type\r\n\r\n    const lowerType = type.toLowerCase().trim()\r\n\r\n    // Check for individual variations\r\n    if (\r\n        lowerType.includes(\"individual\") ||\r\n        lowerType.includes(\"person\") ||\r\n        lowerType.includes(\"persoana\") ||\r\n        lowerType.includes(\"fizica\")\r\n    ) {\r\n        return \"Persoana individuala\"\r\n    }\r\n\r\n    // Check for shelter variations\r\n    if (\r\n        lowerType.includes(\"shelter\") ||\r\n        lowerType.includes(\"adapost\") ||\r\n        lowerType.includes(\"organizatie\") ||\r\n        lowerType.includes(\"organization\")\r\n    ) {\r\n        return \"Adapost\"\r\n    }\r\n\r\n    // Return original if no match found\r\n    return type\r\n}\r\n\r\nconst PetCard = ({ pet, location, userInfo, onAdopt, onFoster, onDistantAdopt, index }) => {\r\n    // Get available adoption types for this specific animal\r\n    const getAvailableAdoptionTypes = (animal) => {\r\n        // If no adoption types are specified, show all buttons (backward compatibility)\r\n        if (!animal.typesOfAdoptions && !animal.adoptionTypes) {\r\n            return {\r\n                adoption: true,\r\n                fostering: true,\r\n                distantAdoption: true,\r\n            }\r\n        }\r\n\r\n        // Handle the backend format: typesOfAdoptions array\r\n        if (animal.typesOfAdoptions && Array.isArray(animal.typesOfAdoptions)) {\r\n            const adoptionTypes = {\r\n                adoption: false,\r\n                fostering: false,\r\n                distantAdoption: false,\r\n            }\r\n\r\n            // Check each type in the array\r\n            animal.typesOfAdoptions.forEach((type) => {\r\n                const lowerType = type.toLowerCase()\r\n\r\n                if (lowerType.includes(\"adoptie permanenta\") || lowerType.includes(\"adoptie_permanenta\")) {\r\n                    adoptionTypes.adoption = true\r\n                }\r\n                if (lowerType.includes(\"foster\")) {\r\n                    adoptionTypes.fostering = true\r\n                }\r\n                if (lowerType.includes(\"adoptie la distanta\") || lowerType.includes(\"adoptie_la_distanta\")) {\r\n                    adoptionTypes.distantAdoption = true\r\n                }\r\n            })\r\n\r\n            return adoptionTypes\r\n        }\r\n\r\n        // Handle the editor format: adoptionTypes object (for backward compatibility)\r\n        if (animal.adoptionTypes && typeof animal.adoptionTypes === \"object\") {\r\n            return {\r\n                adoption: animal.adoptionTypes.adoptie_permanenta || animal.adoptionTypes.adoption || false,\r\n                fostering: animal.adoptionTypes.foster || animal.adoptionTypes.fostering || false,\r\n                distantAdoption: animal.adoptionTypes.adoptie_la_distanta || animal.adoptionTypes.distantAdoption || false,\r\n            }\r\n        }\r\n\r\n        // Default fallback - show all\r\n        return {\r\n            adoption: true,\r\n            fostering: true,\r\n            distantAdoption: true,\r\n        }\r\n    }\r\n\r\n    // Helper function to get the primary image from pet data\r\n    const getPrimaryImage = (pet) => {\r\n        // Handle both single image and images array\r\n        if (pet.images && Array.isArray(pet.images) && pet.images.length > 0) {\r\n            return pet.images[0]\r\n        }\r\n        if (pet.image) {\r\n            return pet.image\r\n        }\r\n        return null\r\n    }\r\n\r\n    const availableAdoptionTypes = getAvailableAdoptionTypes(pet)\r\n    const adoptionTypeCount = Object.values(availableAdoptionTypes).filter(Boolean).length\r\n    const primaryImage = getPrimaryImage(pet)\r\n\r\n    return (\r\n        <div className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-all duration-300 hover:scale-105\">\r\n            <div className=\"w-full h-48 sm:h-56 lg:h-48 bg-gray-50 flex items-center justify-center overflow-hidden\">\r\n                <AnimalImage src={primaryImage} alt={pet.name || \"Imagine animal\"} animalName={pet.name} />\r\n            </div>\r\n            <div className=\"p-3 sm:p-4\">\r\n                <h2 className=\"text-lg sm:text-xl font-semibold mb-2 text-gray-900 truncate\">{pet.name}</h2>\r\n\r\n                <div className=\"space-y-1 sm:space-y-2 mb-3\">\r\n                    <p className=\"text-sm sm:text-base text-gray-600\">\r\n                        <span className=\"font-medium\">Specia:</span> {normalizeSpecies(pet.species)}\r\n                    </p>\r\n                    <p className=\"text-sm sm:text-base text-gray-600 line-clamp-2\">\r\n                        <span className=\"font-medium\">Descrierea:</span> {pet.description}\r\n                    </p>\r\n                </div>\r\n\r\n                {/* Display user name and type */}\r\n                {userInfo && (\r\n                    <div className=\"mb-3 p-2 bg-gray-50 rounded-md\">\r\n                        <p className=\"text-xs sm:text-sm text-gray-600\">\r\n                            <span className=\"font-medium\">Proprietar:</span> {userInfo.name}\r\n                        </p>\r\n                        <p className=\"text-xs sm:text-sm text-gray-600\">\r\n                            <span className=\"font-medium\">Tip:</span> {normalizeUserType(userInfo.type)}\r\n                        </p>\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"flex items-start gap-1 mb-3\">\r\n                    <MapPin className=\"h-4 w-4 text-gray-500 mt-0.5 flex-shrink-0\" />\r\n                    <p className=\"text-xs sm:text-sm text-gray-600 line-clamp-2\">{location || \"Se încarcă locația...\"}</p>\r\n                </div>\r\n\r\n                {/* Show available adoption types as badges */}\r\n                <div className=\"mb-4\">\r\n                    <p className=\"text-xs sm:text-sm font-medium text-gray-700 mb-2\">Tipuri disponibile:</p>\r\n                    <div className=\"flex flex-wrap gap-1\">\r\n                        {availableAdoptionTypes.adoption && (\r\n                            <span className=\"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs\">Adopție</span>\r\n                        )}\r\n                        {availableAdoptionTypes.fostering && (\r\n                            <span className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs\">Foster</span>\r\n                        )}\r\n                        {availableAdoptionTypes.distantAdoption && (\r\n                            <span className=\"bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs\">Adopție la distanță</span>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Responsive button layout */}\r\n                <div className=\"space-y-2\">\r\n                    {availableAdoptionTypes.adoption && (\r\n                        <Button\r\n                            className=\"w-full bg-green-600 hover:bg-green-700 text-white text-xs sm:text-sm py-2\"\r\n                            onClick={() => onAdopt(pet.id)}\r\n                        >\r\n                            Adopție\r\n                        </Button>\r\n                    )}\r\n                    {availableAdoptionTypes.fostering && (\r\n                        <Button\r\n                            className=\"w-full bg-blue-600 hover:bg-blue-700 text-white text-xs sm:text-sm py-2\"\r\n                            onClick={() => onFoster(pet.id)}\r\n                        >\r\n                            Foster\r\n                        </Button>\r\n                    )}\r\n                    {availableAdoptionTypes.distantAdoption && (\r\n                        <Button\r\n                            className=\"w-full bg-purple-600 hover:bg-purple-700 text-white text-xs sm:text-sm py-2\"\r\n                            onClick={() => onDistantAdopt(pet.id)}\r\n                        >\r\n                            Adopție la distanță\r\n                        </Button>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Show message if no adoption types are available */}\r\n                {adoptionTypeCount === 0 && (\r\n                    <div className=\"text-center py-3\">\r\n                        <p className=\"text-xs sm:text-sm text-gray-500\">Nu sunt disponibile tipuri de adopție</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst semanticSearch = async (query: string, adoptionType: string, topN = 50) => {\r\n    // Map frontend adoption types to backend expected values (with diacritics removed)\r\n    const adoptionTypeMapping = {\r\n        standard: \"adoptie permanenta\", // \"adopție_permanentă\" -> \"adoptie permanenta\"\r\n        foster: \"foster\",\r\n        distant: \"adoptie la distanta\", // \"adopție_la_distanță\" -> \"adoptie la distanta\"\r\n    }\r\n\r\n    // Get the backend adoption type value (already without diacritics)\r\n    const backendAdoptionType = adoptionTypeMapping[adoptionType] || adoptionType\r\n\r\n    // Build the URL with query parameters\r\n    const searchParams = new URLSearchParams({\r\n        query: query,\r\n        topN: topN.toString(),\r\n    })\r\n\r\n    // Add the adoption type as a list parameter (without diacritics)\r\n    searchParams.append(\"typesOfAdoption\", backendAdoptionType)\r\n\r\n    console.log(\"Sending request with params:\", searchParams.toString())\r\n    console.log(\"Backend adoption type (no diacritics):\", backendAdoptionType)\r\n\r\n    const response = await fetch(`${API_BASE_URL}/api/embeddings/semantic-search?${searchParams.toString()}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n    })\r\n\r\n    if (!response.ok) {\r\n        const errorText = await response.text()\r\n        console.error(\"Search failed:\", response.status, errorText)\r\n        throw new Error(`Nu am putut efectua căutarea semantică: ${response.status}`)\r\n    }\r\n\r\n    const data = await response.json()\r\n\r\n    // DEBUG: Log the exact order received from backend\r\n    console.log(\"=== BACKEND RESPONSE ORDER ===\")\r\n    data.forEach((animal, index) => {\r\n        console.log(`${index + 1}. ${animal.name} (ID: ${animal.id})`)\r\n    })\r\n    console.log(\"===============================\")\r\n\r\n    return data\r\n}\r\n\r\nconst AdoptionPage = () => {\r\n    const [searchQuery, setSearchQuery] = useState(\"\")\r\n    const [pets, setPets] = useState([])\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [adoptionType, setAdoptionType] = useState(\"standard\")\r\n    const [locations, setLocations] = useState({})\r\n    const [userInfo, setUserInfo] = useState({}) // Add user info state\r\n    const [mobileMenuOpen, setMobileMenuOpen] = useState(false)\r\n\r\n    const handleSearch = async (e: React.FormEvent) => {\r\n        e.preventDefault()\r\n        setIsLoading(true)\r\n\r\n        // Clear previous results and locations to avoid stale state\r\n        setPets([])\r\n        setLocations({})\r\n        setUserInfo({}) // Clear user info\r\n\r\n        try {\r\n            // Pass adoption type to the search function\r\n            const animalResults = await semanticSearch(searchQuery, adoptionType)\r\n\r\n            // DEBUG: Log the order received from backend\r\n            console.log(\"=== BACKEND RESPONSE ORDER (in handleSearch) ===\")\r\n            animalResults.forEach((animal, index) => {\r\n                console.log(`${index + 1}. ${animal.name} (ID: ${animal.id})`)\r\n            })\r\n            console.log(\"===============================\")\r\n\r\n            // CRITICAL: Set pets state immediately with the exact order from backend\r\n            // React's useState will preserve the array order\r\n            setPets([...animalResults]) // Create new array to ensure fresh state\r\n\r\n            // DEBUG: Verify what we're setting\r\n            console.log(\"=== SETTING PETS STATE ORDER ===\")\r\n            animalResults.forEach((animal, index) => {\r\n                console.log(`${index + 1}. ${animal.name} (ID: ${animal.id})`)\r\n            })\r\n            console.log(\"=================================\")\r\n\r\n            // Fetch locations and user info asynchronously but don't let it affect the order\r\n            // Use Promise.allSettled to handle all location fetches\r\n            const locationPromises = animalResults.map(async (animal) => {\r\n                if (animal.userId) {\r\n                    try {\r\n                        const result = await fetchUserLocationAndInfoForAnimal(animal.id, animal.userId)\r\n                        return { animalId: animal.id, ...result }\r\n                    } catch (error) {\r\n                        console.warn(`Failed to fetch location for animal ${animal.id}:`, error)\r\n                        return { animalId: animal.id, location: \"Locație indisponibilă\", userInfo: null }\r\n                    }\r\n                }\r\n                return { animalId: animal.id, location: \"Locație indisponibilă\", userInfo: null }\r\n            })\r\n\r\n            // Wait for all location fetches to complete\r\n            const locationResults = await Promise.allSettled(locationPromises)\r\n\r\n            // Update locations and user info state with all results at once\r\n            const newLocations = {}\r\n            const newUserInfo = {}\r\n            locationResults.forEach((result, index) => {\r\n                if (result.status === \"fulfilled\" && result.value) {\r\n                    newLocations[result.value.animalId] = result.value.location\r\n                    if (result.value.userInfo) {\r\n                        newUserInfo[result.value.animalId] = result.value.userInfo\r\n                    }\r\n                } else {\r\n                    newLocations[animalResults[index].id] = \"Locație indisponibilă\"\r\n                }\r\n            })\r\n\r\n            setLocations(newLocations)\r\n            setUserInfo(newUserInfo)\r\n        } catch (error) {\r\n            console.error(\"Error performing search:\", error)\r\n            // You might want to show an error message to the user here\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    // Helper function to fetch location and user info for a single animal\r\n    const fetchUserLocationAndInfoForAnimal = async (animalId, userId) => {\r\n        const response = await fetch(`${API_BASE_URL}/users/${userId}`)\r\n        if (!response.ok) {\r\n            throw new Error(`Failed to fetch user data for ${userId}`)\r\n        }\r\n\r\n        const userData = await response.json()\r\n\r\n        // Extract user info\r\n        const userInfo = {\r\n            name: userData.name,\r\n            type: userData.type,\r\n        }\r\n\r\n        let location = \"Locație indisponibilă\"\r\n\r\n        if (userData.location && userData.location.coordinates && userData.location.coordinates.length === 2) {\r\n            const [longitude, latitude] = userData.location.coordinates\r\n\r\n            // Validate coordinates\r\n            if (\r\n                typeof latitude === \"number\" &&\r\n                typeof longitude === \"number\" &&\r\n                latitude >= -90 &&\r\n                latitude <= 90 &&\r\n                longitude >= -180 &&\r\n                longitude <= 180\r\n            ) {\r\n                location = await fetchLocationText(latitude, longitude)\r\n            } else {\r\n                console.warn(`Invalid coordinates for animal ${animalId}: lat=${latitude}, lng=${longitude}`)\r\n            }\r\n        }\r\n\r\n        return { location, userInfo }\r\n    }\r\n\r\n    // Helper function to fetch location text from coordinates\r\n    const fetchLocationText = async (latitude, longitude) => {\r\n        const response = await fetch(`${API_BASE_URL}/reverse-geocode?latitude=${latitude}&longitude=${longitude}`)\r\n        if (!response.ok) {\r\n            console.warn(`Reverse geocoding failed for coordinates ${latitude}, ${longitude}. Status: ${response.status}`)\r\n            return \"Locație indisponibilă\"\r\n        }\r\n        return await response.text()\r\n    }\r\n\r\n    const navigateToAdoption = (animalId) => {\r\n        window.location.href = `/book-adoption?animalId=${animalId}&type=standard`\r\n    }\r\n\r\n    const navigateToFostering = (animalId) => {\r\n        window.location.href = `/fostering?animalId=${animalId}&type=foster`\r\n    }\r\n\r\n    const navigateToDistantAdoption = (animalId) => {\r\n        window.location.href = `/distantAdoption?animalId=${animalId}&type=distant`\r\n    }\r\n\r\n    // DEBUG: Log the pets state when it changes\r\n    console.log(\"=== CURRENT PETS STATE ORDER ===\")\r\n    pets.forEach((pet, index) => {\r\n        console.log(`${index + 1}. ${pet.name} (ID: ${pet.id})`)\r\n    })\r\n    console.log(\"=================================\")\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50\">\r\n            {/* Header */}\r\n            <header className=\"bg-white border-b shadow-sm sticky top-0 z-50\">\r\n                <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n                    <div className=\"flex h-16 items-center justify-between\">\r\n                        {/* Logo */}\r\n                        <a href=\"/home\" className=\"flex items-center gap-2 flex-shrink-0\">\r\n                            <PawPrint className=\"h-6 w-6 text-green-600\" />\r\n                            <span className=\"text-lg sm:text-xl font-bold\">PetPal Adoptions</span>\r\n                        </a>\r\n\r\n                        {/* Desktop Navigation */}\r\n                        <nav className=\"hidden lg:flex items-center gap-6\">\r\n                            <a className=\"text-sm font-medium hover:text-green-600 transition-colors\" href=\"/home\">\r\n                                Acasă\r\n                            </a>\r\n                            <a className=\"text-sm font-medium hover:text-green-600 transition-colors\" href=\"/adoption\">\r\n                                Adoptă acum\r\n                            </a>\r\n                            <a className=\"text-sm font-medium hover:text-green-600 transition-colors\" href=\"/editor_catalog\">\r\n                                Adaugă anunț adopție\r\n                            </a>\r\n                            <a className=\"text-sm font-medium hover:text-green-600 transition-colors\" href=\"/info\">\r\n                                ÎntreabăPetPal\r\n                            </a>\r\n                            <a className=\"text-sm font-medium hover:text-green-600 transition-colors\" href=\"/community\">\r\n                                Alătură-te comunității\r\n                            </a>\r\n                            <button\r\n                                className=\"flex items-center gap-1 text-sm font-medium text-red-600 hover:text-red-700 transition-colors\"\r\n                                onClick={() => {\r\n                                    console.log(\"Logging out\")\r\n                                    window.location.href = \"/login\"\r\n                                }}\r\n                            >\r\n                                <LogOut className=\"h-4 w-4\" />\r\n                                Deconectare\r\n                            </button>\r\n                        </nav>\r\n\r\n                        {/* Mobile menu button */}\r\n                        <button\r\n                            className=\"lg:hidden p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100\"\r\n                            onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\r\n                        >\r\n                            {mobileMenuOpen ? <X className=\"h-6 w-6\" /> : <Menu className=\"h-6 w-6\" />}\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Mobile Navigation */}\r\n                    {mobileMenuOpen && (\r\n                        <div className=\"lg:hidden border-t bg-white\">\r\n                            <div className=\"px-2 pt-2 pb-3 space-y-1\">\r\n                                <a\r\n                                    href=\"/home\"\r\n                                    className=\"block px-3 py-2 text-base font-medium text-gray-700 hover:text-green-600 hover:bg-gray-50 rounded-md\"\r\n                                >\r\n                                    Acasă\r\n                                </a>\r\n                                <a\r\n                                    href=\"/adoption\"\r\n                                    className=\"block px-3 py-2 text-base font-medium text-gray-700 hover:text-green-600 hover:bg-gray-50 rounded-md\"\r\n                                >\r\n                                    Adoptă acum\r\n                                </a>\r\n                                <a\r\n                                    href=\"/editor_catalog\"\r\n                                    className=\"block px-3 py-2 text-base font-medium text-gray-700 hover:text-green-600 hover:bg-gray-50 rounded-md\"\r\n                                >\r\n                                    Adaugă anunț adopție\r\n                                </a>\r\n                                <a\r\n                                    href=\"/info\"\r\n                                    className=\"block px-3 py-2 text-base font-medium text-gray-700 hover:text-green-600 hover:bg-gray-50 rounded-md\"\r\n                                >\r\n                                    ÎntreabăPetPal\r\n                                </a>\r\n                                <a\r\n                                    href=\"/community\"\r\n                                    className=\"block px-3 py-2 text-base font-medium text-gray-700 hover:text-green-600 hover:bg-gray-50 rounded-md\"\r\n                                >\r\n                                    Alătură-te comunității\r\n                                </a>\r\n                                <button\r\n                                    className=\"flex items-center gap-2 w-full px-3 py-2 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md\"\r\n                                    onClick={() => {\r\n                                        console.log(\"Logging out\")\r\n                                        window.location.href = \"/login\"\r\n                                    }}\r\n                                >\r\n                                    <LogOut className=\"h-4 w-4\" />\r\n                                    Deconectare\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </header>\r\n\r\n            {/* Main Content */}\r\n            <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8\">\r\n                <div className=\"text-center mb-6 sm:mb-8\">\r\n                    <h1 className=\"text-2xl sm:text-3xl lg:text-4xl font-bold mb-4 sm:mb-6 text-gray-900\">\r\n                        Găsește-ți noul membru al familiei!\r\n                    </h1>\r\n                </div>\r\n\r\n                {/* Search Form */}\r\n                <div className=\"max-w-5xl mx-auto mb-6 sm:mb-8\">\r\n                    <form onSubmit={handleSearch} className=\"space-y-4\">\r\n                        {/* Mobile-first responsive layout */}\r\n                        <div className=\"flex flex-col lg:flex-row gap-4\">\r\n                            {/* Search Input */}\r\n                            <div className=\"relative flex-1\">\r\n                                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 sm:h-6 sm:w-6 text-gray-400\" />\r\n                                <Input\r\n                                    id=\"searchQuery\"\r\n                                    value={searchQuery}\r\n                                    onChange={(e) => setSearchQuery(e.target.value)}\r\n                                    placeholder=\"Ex: pisică blândă, potrivită pentru familie cu copii\"\r\n                                    className=\"pl-10 sm:pl-12 py-3 sm:py-4 text-sm sm:text-lg w-full\"\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Adoption Type Selector */}\r\n                            <div className=\"lg:w-64\">\r\n                                <select\r\n                                    value={adoptionType}\r\n                                    onChange={(e) => setAdoptionType(e.target.value)}\r\n                                    className=\"w-full px-3 py-3 sm:py-4 text-sm sm:text-base border rounded-md focus:outline-none focus:ring-2 focus:ring-green-600\"\r\n                                    aria-label=\"Tip relație\"\r\n                                >\r\n                                    <option value=\"standard\">Adopție permanentă</option>\r\n                                    <option value=\"foster\">Foster (temporar)</option>\r\n                                    <option value=\"distant\">Adopție la distanță</option>\r\n                                </select>\r\n                            </div>\r\n\r\n                            {/* Search Button */}\r\n                            <div className=\"lg:w-32\">\r\n                                <Button\r\n                                    className=\"w-full py-3 sm:py-4 px-4 sm:px-6 text-sm sm:text-lg bg-green-600 hover:bg-green-700 flex items-center justify-center\"\r\n                                    disabled={isLoading}\r\n                                    onClick={handleSearch}\r\n                                    type=\"submit\"\r\n                                >\r\n                                    {isLoading ? (\r\n                                        <Loader2 className=\"animate-spin w-5 h-5 sm:w-6 sm:h-6\" />\r\n                                    ) : (\r\n                                        <>\r\n                                            <Search className=\"w-4 h-4 sm:w-5 sm:h-5 mr-1 sm:mr-2\" />\r\n                                            <span className=\"hidden sm:inline\">Caută</span>\r\n                                            <span className=\"sm:hidden\">Caută</span>\r\n                                        </>\r\n                                    )}\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Adoption Type Description */}\r\n                        <div className=\"text-xs sm:text-sm text-gray-600 mt-2 px-1\">\r\n                            {adoptionType === \"standard\" && (\r\n                                <p>Adopția permanentă înseamnă că animalul va deveni pe deplin membrul familiei tale.</p>\r\n                            )}\r\n                            {adoptionType === \"foster\" && (\r\n                                <p>\r\n                                    Foster (temporar) - oferă un cămin temporar unui animal până când acesta își găsește o familie\r\n                                    permanentă.\r\n                                </p>\r\n                            )}\r\n                            {adoptionType === \"distant\" && (\r\n                                <p>\r\n                                    Adopția la distanță - sprijini financiar un animal care rămâne în adăpost, primind actualizări\r\n                                    regulate.\r\n                                </p>\r\n                            )}\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n\r\n                {/* Results Grid */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8\">\r\n                    {pets.map((pet, index) => (\r\n                        <PetCard\r\n                            key={pet.id}\r\n                            pet={pet}\r\n                            location={locations[pet.id]}\r\n                            userInfo={userInfo[pet.id]}\r\n                            onAdopt={navigateToAdoption}\r\n                            onFoster={navigateToFostering}\r\n                            onDistantAdopt={navigateToDistantAdoption}\r\n                            index={index}\r\n                        />\r\n                    ))}\r\n                </div>\r\n\r\n                {/* No Results Message */}\r\n                {pets.length === 0 && !isLoading && (\r\n                    <div className=\"text-center mt-8 text-gray-600\">\r\n                        <p className=\"text-sm sm:text-base\">\r\n                            Nu ai găsit ce cauți?{\" \"}\r\n                            <a href=\"/catalog\" className=\"text-green-600 font-semibold hover:underline\">\r\n                                Vezi toate anunțurile\r\n                            </a>\r\n                        </p>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Results Footer */}\r\n                {pets.length > 0 && !isLoading && (\r\n                    <div className=\"text-center mt-8 mb-12 text-gray-600\">\r\n                        <p className=\"text-sm sm:text-base\">\r\n                            Nu ai găsit ce cauți?{\" \"}\r\n                            <a href=\"/catalog\" className=\"text-green-600 font-semibold hover:underline\">\r\n                                Vezi toate anunțurile\r\n                            </a>\r\n                        </p>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Loading State */}\r\n                {isLoading && (\r\n                    <div className=\"text-center mt-8\">\r\n                        <Loader2 className=\"animate-spin h-6 w-6 sm:h-8 sm:w-8 mx-auto text-green-600\" />\r\n                        <p className=\"mt-2 text-sm sm:text-base text-gray-600\">Se încarcă rezultatele...</p>\r\n                    </div>\r\n                )}\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AdoptionPage\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
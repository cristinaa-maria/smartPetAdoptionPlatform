{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cristina Aghei\\\\facultate\\\\licenta\\\\parteaPractica\\\\animals-shelter-app\\\\src\\\\components\\\\adoption.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { PawPrint, Search, Loader2, MapPin, LogOut } from \"lucide-react\";\nimport Button from \"./ui/Button\";\nimport Input from \"./ui/Input\";\n// The API base URL - adjust as needed for your environment\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = \"http://localhost:8083\";\n\n// Function to remove diacritics from Romanian text\nconst removeDiacritics = text => {\n  const diacriticsMap = {\n    ă: \"a\",\n    â: \"a\",\n    î: \"i\",\n    ș: \"s\",\n    ț: \"t\",\n    Ă: \"A\",\n    Â: \"A\",\n    Î: \"I\",\n    Ș: \"S\",\n    Ț: \"T\"\n  };\n  return text.replace(/[ăâîșțĂÂÎȘȚ]/g, match => diacriticsMap[match] || match);\n};\nconst PetCard = ({\n  pet,\n  location,\n  onAdopt,\n  onFoster,\n  onDistantAdopt\n}) => {\n  // Get available adoption types for this specific animal\n  const getAvailableAdoptionTypes = animal => {\n    // If no adoption types are specified, show all buttons (backward compatibility)\n    if (!animal.typesOfAdoptions && !animal.adoptionTypes) {\n      return {\n        adoption: true,\n        fostering: true,\n        distantAdoption: true\n      };\n    }\n\n    // Handle the backend format: typesOfAdoptions array\n    if (animal.typesOfAdoptions && Array.isArray(animal.typesOfAdoptions)) {\n      const adoptionTypes = {\n        adoption: false,\n        fostering: false,\n        distantAdoption: false\n      };\n\n      // Check each type in the array\n      animal.typesOfAdoptions.forEach(type => {\n        const lowerType = type.toLowerCase();\n        if (lowerType.includes(\"adoptie permanenta\") || lowerType.includes(\"adoptie_permanenta\")) {\n          adoptionTypes.adoption = true;\n        }\n        if (lowerType.includes(\"foster\")) {\n          adoptionTypes.fostering = true;\n        }\n        if (lowerType.includes(\"adoptie la distanta\") || lowerType.includes(\"adoptie_la_distanta\")) {\n          adoptionTypes.distantAdoption = true;\n        }\n      });\n      return adoptionTypes;\n    }\n\n    // Handle the editor format: adoptionTypes object (for backward compatibility)\n    if (animal.adoptionTypes && typeof animal.adoptionTypes === \"object\") {\n      return {\n        adoption: animal.adoptionTypes.adoptie_permanenta || animal.adoptionTypes.adoption || false,\n        fostering: animal.adoptionTypes.foster || animal.adoptionTypes.fostering || false,\n        distantAdoption: animal.adoptionTypes.adoptie_la_distanta || animal.adoptionTypes.distantAdoption || false\n      };\n    }\n\n    // Default fallback - show all\n    return {\n      adoption: true,\n      fostering: true,\n      distantAdoption: true\n    };\n  };\n  const availableAdoptionTypes = getAvailableAdoptionTypes(pet);\n  const adoptionTypeCount = Object.values(availableAdoptionTypes).filter(Boolean).length;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full h-48 bg-gray-100 flex items-center justify-center\",\n      children: pet.image ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: pet.image || \"/placeholder.svg\",\n        alt: pet.name,\n        className: \"w-full h-48 object-cover\",\n        onError: e => {\n          e.target.src = \"/placeholder.svg?height=192&width=300\";\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-gray-400\",\n        children: \"F\\u0103r\\u0103 imagine\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold mb-2\",\n        children: pet.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-1\",\n        children: [\"Specia: \", pet.species]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-1\",\n        children: [\"Descrierea: \", pet.description]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 flex items-center mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(MapPin, {\n          className: \"h-4 w-4 mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), location || \"Se încarcă locația...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm font-medium text-gray-700 mb-1\",\n          children: \"Tipuri disponibile:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-1\",\n          children: [availableAdoptionTypes.adoption && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs\",\n            children: \"Adop\\u021Bie\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 29\n          }, this), availableAdoptionTypes.fostering && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs\",\n            children: \"Foster\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 29\n          }, this), availableAdoptionTypes.distantAdoption && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs\",\n            children: \"Adop\\u021Bie la distan\\u021B\\u0103\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-3 gap-2\",\n        children: [availableAdoptionTypes.adoption && /*#__PURE__*/_jsxDEV(Button, {\n          size: \"sm\",\n          className: \"bg-green-600 hover:bg-green-700 col-span-1\",\n          onClick: () => onAdopt(pet.id),\n          children: \"Adop\\u021Bie\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 25\n        }, this), availableAdoptionTypes.fostering && /*#__PURE__*/_jsxDEV(Button, {\n          size: \"sm\",\n          className: \"bg-blue-600 hover:bg-blue-700 col-span-1\",\n          onClick: () => onFoster(pet.id),\n          children: \"Foster\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 25\n        }, this), availableAdoptionTypes.distantAdoption && /*#__PURE__*/_jsxDEV(Button, {\n          size: \"sm\",\n          className: \"bg-purple-600 hover:bg-purple-700 col-span-1\",\n          onClick: () => onDistantAdopt(pet.id),\n          children: \"Adop\\u021Bie la distan\\u021B\\u0103\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 25\n        }, this), !availableAdoptionTypes.adoption && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 58\n        }, this), !availableAdoptionTypes.fostering && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 59\n        }, this), !availableAdoptionTypes.distantAdoption && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 65\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this), adoptionTypeCount === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-2\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: \"Nu sunt disponibile tipuri de adop\\u021Bie\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 9\n  }, this);\n};\n_c = PetCard;\nconst semanticSearch = async (query, adoptionType, topN = 50) => {\n  // Map frontend adoption types to backend expected values (with diacritics removed)\n  const adoptionTypeMapping = {\n    standard: \"adoptie permanenta\",\n    // \"adopție_permanentă\" -> \"adoptie permanenta\"\n    foster: \"foster\",\n    distant: \"adoptie la distanta\" // \"adopție_la_distanță\" -> \"adoptie la distanta\"\n  };\n\n  // Get the backend adoption type value (already without diacritics)\n  const backendAdoptionType = adoptionTypeMapping[adoptionType] || adoptionType;\n\n  // Build the URL with query parameters\n  const searchParams = new URLSearchParams({\n    query: query,\n    topN: topN.toString()\n  });\n\n  // Add the adoption type as a list parameter (without diacritics)\n  searchParams.append(\"typesOfAdoption\", backendAdoptionType);\n  console.log(\"Sending request with params:\", searchParams.toString());\n  console.log(\"Backend adoption type (no diacritics):\", backendAdoptionType);\n  const response = await fetch(`${API_BASE_URL}/api/embeddings/semantic-search?${searchParams.toString()}`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  });\n  if (!response.ok) {\n    const errorText = await response.text();\n    console.error(\"Search failed:\", response.status, errorText);\n    throw new Error(`Nu am putut efectua căutarea semantică: ${response.status}`);\n  }\n  const data = await response.json();\n  return data;\n};\nconst AdoptionPage = () => {\n  _s();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [pets, setPets] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [adoptionType, setAdoptionType] = useState(\"standard\");\n  const [locations, setLocations] = useState({});\n  const handleSearch = async e => {\n    e.preventDefault();\n    setIsLoading(true);\n    try {\n      // Pass adoption type to the search function\n      const animalResults = await semanticSearch(searchQuery, adoptionType);\n      setPets(animalResults);\n\n      // Fetch locations for each animal\n      animalResults.forEach(animal => {\n        if (animal.userId) {\n          fetchUserLocation(animal.id, animal.userId);\n        }\n      });\n    } catch (error) {\n      console.error(\"Error performing search:\", error);\n      // You might want to show an error message to the user here\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const fetchUserLocation = async (animalId, userId) => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/users/${userId}`);\n      if (!response.ok) {\n        console.warn(`Failed to fetch user data for ${userId}`);\n        return;\n      }\n      const userData = await response.json();\n      if (userData.location && userData.location.coordinates && userData.location.coordinates.length === 2) {\n        const [longitude, latitude] = userData.location.coordinates;\n\n        // Validate coordinates\n        if (typeof latitude === \"number\" && typeof longitude === \"number\" && latitude >= -90 && latitude <= 90 && longitude >= -180 && longitude <= 180) {\n          await fetchLocation(animalId, latitude, longitude);\n        } else {\n          console.warn(`Invalid coordinates for animal ${animalId}: lat=${latitude}, lng=${longitude}`);\n          setLocations(prevLocations => ({\n            ...prevLocations,\n            [animalId]: \"Locație indisponibilă\"\n          }));\n        }\n      } else {\n        setLocations(prevLocations => ({\n          ...prevLocations,\n          [animalId]: \"Locație indisponibilă\"\n        }));\n      }\n    } catch (error) {\n      console.warn(`Error fetching user location for ${userId}:`, error);\n      setLocations(prevLocations => ({\n        ...prevLocations,\n        [animalId]: \"Locație indisponibilă\"\n      }));\n    }\n  };\n  const fetchLocation = async (animalId, latitude, longitude) => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/reverse-geocode?latitude=${latitude}&longitude=${longitude}`);\n      if (!response.ok) {\n        console.warn(`Reverse geocoding failed for coordinates ${latitude}, ${longitude}. Status: ${response.status}`);\n        setLocations(prevLocations => ({\n          ...prevLocations,\n          [animalId]: \"Locație indisponibilă\"\n        }));\n        return;\n      }\n      const address = await response.text();\n      setLocations(prevLocations => ({\n        ...prevLocations,\n        [animalId]: address\n      }));\n    } catch (error) {\n      console.warn(\"Error fetching location:\", error);\n      setLocations(prevLocations => ({\n        ...prevLocations,\n        [animalId]: \"Locație indisponibilă\"\n      }));\n    }\n  };\n  const navigateToAdoption = animalId => {\n    window.location.href = `/book-adoption?animalId=${animalId}&type=standard`;\n  };\n  const navigateToFostering = animalId => {\n    window.location.href = `/fostering?animalId=${animalId}&type=foster`;\n  };\n  const navigateToDistantAdoption = animalId => {\n    window.location.href = `/distantAdoption?animalId=${animalId}&type=distant`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"border-b\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container flex h-16 items-center justify-between px-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/home\",\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(PawPrint, {\n            className: \"h-6 w-6 text-green-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xl font-bold\",\n            children: \"PetPal Adoptions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n          className: \"flex gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"text-sm font-medium hover:text-green-600 transition-colors\",\n            href: \"/home\",\n            children: \"Acas\\u0103\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"text-sm font-medium hover:text-green-600 transition-colors\",\n            href: \"/adoption\",\n            children: \"Adopt\\u0103 acum\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"text-sm font-medium hover:text-green-600 transition-colors\",\n            href: \"/editor_catalog\",\n            children: \"Adaug\\u0103 anun\\u021B adop\\u021Bie\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"text-sm font-medium hover:text-green-600 transition-colors\",\n            href: \"/info\",\n            children: \"\\xCEntreab\\u0103PetPal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"text-sm font-medium hover:text-green-600 transition-colors\",\n            href: \"/community\",\n            children: \"Al\\u0103tur\\u0103-te comunit\\u0103\\u021Bii\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"flex items-center gap-1 text-sm font-medium text-red-600 hover:text-red-700 transition-colors ml-2\",\n            onClick: () => {\n              console.log(\"Logging out\");\n              window.location.href = \"/login\";\n            },\n            children: [/*#__PURE__*/_jsxDEV(LogOut, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 29\n            }, this), \"Deconectare\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-4xl font-bold mt-8 mb-6 text-center\",\n      children: \"G\\u0103se\\u0219te-\\u021Bi noul membru al familiei!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-5xl mx-auto px-4 mb-8\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSearch,\n        className: \"flex flex-col gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-12 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative lg:col-span-7\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              className: \"absolute left-3 top-1/2 transform -translate-y-1/2 h-6 w-6 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"searchQuery\",\n              value: searchQuery,\n              onChange: e => setSearchQuery(e.target.value),\n              placeholder: \"Ex: pisic\\u0103 bl\\xE2nd\\u0103, potrivit\\u0103 pentru familie cu copii\",\n              className: \"pl-12 py-4 text-lg w-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lg:col-span-3\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              value: adoptionType,\n              onChange: e => setAdoptionType(e.target.value),\n              className: \"w-full h-full px-3 py-4 text-base border rounded-md focus:outline-none focus:ring-2 focus:ring-green-600\",\n              \"aria-label\": \"Tip rela\\u021Bie\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"standard\",\n                children: \"Adop\\u021Bie permanent\\u0103\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"foster\",\n                children: \"Foster (temporar)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"distant\",\n                children: \"Adop\\u021Bie la distan\\u021B\\u0103\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lg:col-span-2\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              disabled: isLoading,\n              className: \"w-full h-full py-4 px-6 text-lg bg-green-600 hover:bg-green-700 flex items-center justify-center\",\n              children: [isLoading ? /*#__PURE__*/_jsxDEV(Loader2, {\n                className: \"animate-spin w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 46\n              }, this) : /*#__PURE__*/_jsxDEV(Search, {\n                className: \"w-6 h-6 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 93\n              }, this), isLoading ? \"Căutare...\" : \"Caută\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600 mt-2\",\n          children: [adoptionType === \"standard\" && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Adop\\u021Bia permanent\\u0103 \\xEEnseamn\\u0103 c\\u0103 animalul va deveni pe deplin membrul familiei tale.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 29\n          }, this), adoptionType === \"foster\" && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Foster (temporar) - ofer\\u0103 un c\\u0103min temporar unui animal p\\xE2n\\u0103 c\\xE2nd acesta \\xEE\\u0219i g\\u0103se\\u0219te o familie permanent\\u0103.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 29\n          }, this), adoptionType === \"distant\" && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Adop\\u021Bia la distan\\u021B\\u0103 - sprijini financiar un animal care r\\u0103m\\xE2ne \\xEEn ad\\u0103post, primind actualiz\\u0103ri regulate.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto px-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6\",\n        children: pets.map(pet => /*#__PURE__*/_jsxDEV(PetCard, {\n          pet: pet,\n          location: locations[pet.id],\n          onAdopt: navigateToAdoption,\n          onFoster: navigateToFostering,\n          onDistantAdopt: navigateToDistantAdoption\n        }, pet.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 17\n      }, this), pets.length === 0 && !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mt-8 text-gray-600\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Nu ai g\\u0103sit ce cau\\u021Bi?\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/catalog\",\n            className: \"text-green-600 font-semibold\",\n            children: \"Vezi toate anun\\u021Burile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 21\n      }, this), pets.length > 0 && !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mt-8 mb-12 text-gray-600\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Nu ai g\\u0103sit ce cau\\u021Bi?\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/catalog\",\n            className: \"text-green-600 font-semibold hover:underline\",\n            children: \"Vezi toate anun\\u021Burile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 21\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mt-8\",\n        children: [/*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"animate-spin h-8 w-8 mx-auto text-green-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-gray-600\",\n          children: \"Se \\xEEncarc\\u0103 rezultatele...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 299,\n    columnNumber: 9\n  }, this);\n};\n_s(AdoptionPage, \"VZNvs00Y28oDOykNy3Sg6FTOFkk=\");\n_c2 = AdoptionPage;\nexport default AdoptionPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"PetCard\");\n$RefreshReg$(_c2, \"AdoptionPage\");","map":{"version":3,"names":["useState","PawPrint","Search","Loader2","MapPin","LogOut","Button","Input","jsxDEV","_jsxDEV","API_BASE_URL","removeDiacritics","text","diacriticsMap","ă","â","î","ș","ț","Ă","Â","Î","Ș","Ț","replace","match","PetCard","pet","location","onAdopt","onFoster","onDistantAdopt","getAvailableAdoptionTypes","animal","typesOfAdoptions","adoptionTypes","adoption","fostering","distantAdoption","Array","isArray","forEach","type","lowerType","toLowerCase","includes","adoptie_permanenta","foster","adoptie_la_distanta","availableAdoptionTypes","adoptionTypeCount","Object","values","filter","Boolean","length","className","children","image","src","alt","name","onError","e","target","fileName","_jsxFileName","lineNumber","columnNumber","species","description","size","onClick","id","_c","semanticSearch","query","adoptionType","topN","adoptionTypeMapping","standard","distant","backendAdoptionType","searchParams","URLSearchParams","toString","append","console","log","response","fetch","method","headers","ok","errorText","error","status","Error","data","json","AdoptionPage","_s","searchQuery","setSearchQuery","pets","setPets","isLoading","setIsLoading","setAdoptionType","locations","setLocations","handleSearch","preventDefault","animalResults","userId","fetchUserLocation","animalId","warn","userData","coordinates","longitude","latitude","fetchLocation","prevLocations","address","navigateToAdoption","window","href","navigateToFostering","navigateToDistantAdoption","onSubmit","value","onChange","placeholder","disabled","map","_c2","$RefreshReg$"],"sources":["C:/Users/Cristina Aghei/facultate/licenta/parteaPractica/animals-shelter-app/src/components/adoption.js"],"sourcesContent":["import type React from \"react\"\r\n\r\nimport { useState } from \"react\"\r\nimport { PawPrint, Search, Loader2, MapPin, LogOut } from \"lucide-react\"\r\nimport Button from \"./ui/Button\"\r\nimport Input from \"./ui/Input\"\r\n// The API base URL - adjust as needed for your environment\r\nconst API_BASE_URL = \"http://localhost:8083\"\r\n\r\n// Function to remove diacritics from Romanian text\r\nconst removeDiacritics = (text: string): string => {\r\n    const diacriticsMap = {\r\n        ă: \"a\",\r\n        â: \"a\",\r\n        î: \"i\",\r\n        ș: \"s\",\r\n        ț: \"t\",\r\n        Ă: \"A\",\r\n        Â: \"A\",\r\n        Î: \"I\",\r\n        Ș: \"S\",\r\n        Ț: \"T\",\r\n    }\r\n\r\n    return text.replace(/[ăâîșțĂÂÎȘȚ]/g, (match) => diacriticsMap[match] || match)\r\n}\r\n\r\nconst PetCard = ({ pet, location, onAdopt, onFoster, onDistantAdopt }) => {\r\n    // Get available adoption types for this specific animal\r\n    const getAvailableAdoptionTypes = (animal) => {\r\n        // If no adoption types are specified, show all buttons (backward compatibility)\r\n        if (!animal.typesOfAdoptions && !animal.adoptionTypes) {\r\n            return {\r\n                adoption: true,\r\n                fostering: true,\r\n                distantAdoption: true,\r\n            }\r\n        }\r\n\r\n        // Handle the backend format: typesOfAdoptions array\r\n        if (animal.typesOfAdoptions && Array.isArray(animal.typesOfAdoptions)) {\r\n            const adoptionTypes = {\r\n                adoption: false,\r\n                fostering: false,\r\n                distantAdoption: false,\r\n            }\r\n\r\n            // Check each type in the array\r\n            animal.typesOfAdoptions.forEach((type) => {\r\n                const lowerType = type.toLowerCase()\r\n\r\n                if (lowerType.includes(\"adoptie permanenta\") || lowerType.includes(\"adoptie_permanenta\")) {\r\n                    adoptionTypes.adoption = true\r\n                }\r\n                if (lowerType.includes(\"foster\")) {\r\n                    adoptionTypes.fostering = true\r\n                }\r\n                if (lowerType.includes(\"adoptie la distanta\") || lowerType.includes(\"adoptie_la_distanta\")) {\r\n                    adoptionTypes.distantAdoption = true\r\n                }\r\n            })\r\n\r\n            return adoptionTypes\r\n        }\r\n\r\n        // Handle the editor format: adoptionTypes object (for backward compatibility)\r\n        if (animal.adoptionTypes && typeof animal.adoptionTypes === \"object\") {\r\n            return {\r\n                adoption: animal.adoptionTypes.adoptie_permanenta || animal.adoptionTypes.adoption || false,\r\n                fostering: animal.adoptionTypes.foster || animal.adoptionTypes.fostering || false,\r\n                distantAdoption: animal.adoptionTypes.adoptie_la_distanta || animal.adoptionTypes.distantAdoption || false,\r\n            }\r\n        }\r\n\r\n        // Default fallback - show all\r\n        return {\r\n            adoption: true,\r\n            fostering: true,\r\n            distantAdoption: true,\r\n        }\r\n    }\r\n\r\n    const availableAdoptionTypes = getAvailableAdoptionTypes(pet)\r\n    const adoptionTypeCount = Object.values(availableAdoptionTypes).filter(Boolean).length\r\n\r\n    return (\r\n        <div className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow\">\r\n            <div className=\"w-full h-48 bg-gray-100 flex items-center justify-center\">\r\n                {pet.image ? (\r\n                    <img\r\n                        src={pet.image || \"/placeholder.svg\"}\r\n                        alt={pet.name}\r\n                        className=\"w-full h-48 object-cover\"\r\n                        onError={(e) => {\r\n                            e.target.src = \"/placeholder.svg?height=192&width=300\"\r\n                        }}\r\n                    />\r\n                ) : (\r\n                    <div className=\"text-gray-400\">Fără imagine</div>\r\n                )}\r\n            </div>\r\n            <div className=\"p-4\">\r\n                <h2 className=\"text-xl font-semibold mb-2\">{pet.name}</h2>\r\n                <p className=\"text-gray-600 mb-1\">Specia: {pet.species}</p>\r\n                <p className=\"text-gray-600 mb-1\">Descrierea: {pet.description}</p>\r\n                <p className=\"text-gray-600 flex items-center mb-3\">\r\n                    <MapPin className=\"h-4 w-4 mr-1\" />\r\n                    {location || \"Se încarcă locația...\"}\r\n                </p>\r\n\r\n                {/* Show available adoption types as badges */}\r\n                <div className=\"mb-3\">\r\n                    <p className=\"text-sm font-medium text-gray-700 mb-1\">Tipuri disponibile:</p>\r\n                    <div className=\"flex flex-wrap gap-1\">\r\n                        {availableAdoptionTypes.adoption && (\r\n                            <span className=\"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs\">Adopție</span>\r\n                        )}\r\n                        {availableAdoptionTypes.fostering && (\r\n                            <span className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs\">Foster</span>\r\n                        )}\r\n                        {availableAdoptionTypes.distantAdoption && (\r\n                            <span className=\"bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs\">Adopție la distanță</span>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Conditional button rendering with consistent sizing */}\r\n                <div className=\"grid grid-cols-3 gap-2\">\r\n                    {availableAdoptionTypes.adoption && (\r\n                        <Button size=\"sm\" className=\"bg-green-600 hover:bg-green-700 col-span-1\" onClick={() => onAdopt(pet.id)}>\r\n                            Adopție\r\n                        </Button>\r\n                    )}\r\n                    {availableAdoptionTypes.fostering && (\r\n                        <Button size=\"sm\" className=\"bg-blue-600 hover:bg-blue-700 col-span-1\" onClick={() => onFoster(pet.id)}>\r\n                            Foster\r\n                        </Button>\r\n                    )}\r\n                    {availableAdoptionTypes.distantAdoption && (\r\n                        <Button\r\n                            size=\"sm\"\r\n                            className=\"bg-purple-600 hover:bg-purple-700 col-span-1\"\r\n                            onClick={() => onDistantAdopt(pet.id)}\r\n                        >\r\n                            Adopție la distanță\r\n                        </Button>\r\n                    )}\r\n\r\n                    {/* Add invisible placeholder buttons to maintain grid layout */}\r\n                    {!availableAdoptionTypes.adoption && <div className=\"col-span-1\"></div>}\r\n                    {!availableAdoptionTypes.fostering && <div className=\"col-span-1\"></div>}\r\n                    {!availableAdoptionTypes.distantAdoption && <div className=\"col-span-1\"></div>}\r\n                </div>\r\n\r\n                {/* Show message if no adoption types are available */}\r\n                {adoptionTypeCount === 0 && (\r\n                    <div className=\"text-center py-2\">\r\n                        <p className=\"text-sm text-gray-500\">Nu sunt disponibile tipuri de adopție</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst semanticSearch = async (query: string, adoptionType: string, topN = 50) => {\r\n    // Map frontend adoption types to backend expected values (with diacritics removed)\r\n    const adoptionTypeMapping = {\r\n        standard: \"adoptie permanenta\", // \"adopție_permanentă\" -> \"adoptie permanenta\"\r\n        foster: \"foster\",\r\n        distant: \"adoptie la distanta\", // \"adopție_la_distanță\" -> \"adoptie la distanta\"\r\n    }\r\n\r\n    // Get the backend adoption type value (already without diacritics)\r\n    const backendAdoptionType = adoptionTypeMapping[adoptionType] || adoptionType\r\n\r\n    // Build the URL with query parameters\r\n    const searchParams = new URLSearchParams({\r\n        query: query,\r\n        topN: topN.toString(),\r\n    })\r\n\r\n    // Add the adoption type as a list parameter (without diacritics)\r\n    searchParams.append(\"typesOfAdoption\", backendAdoptionType)\r\n\r\n    console.log(\"Sending request with params:\", searchParams.toString())\r\n    console.log(\"Backend adoption type (no diacritics):\", backendAdoptionType)\r\n\r\n    const response = await fetch(`${API_BASE_URL}/api/embeddings/semantic-search?${searchParams.toString()}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n    })\r\n\r\n    if (!response.ok) {\r\n        const errorText = await response.text()\r\n        console.error(\"Search failed:\", response.status, errorText)\r\n        throw new Error(`Nu am putut efectua căutarea semantică: ${response.status}`)\r\n    }\r\n\r\n    const data = await response.json()\r\n    return data\r\n}\r\n\r\nconst AdoptionPage = () => {\r\n    const [searchQuery, setSearchQuery] = useState(\"\")\r\n    const [pets, setPets] = useState([])\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [adoptionType, setAdoptionType] = useState(\"standard\")\r\n    const [locations, setLocations] = useState({})\r\n\r\n    const handleSearch = async (e: React.FormEvent) => {\r\n        e.preventDefault()\r\n        setIsLoading(true)\r\n        try {\r\n            // Pass adoption type to the search function\r\n            const animalResults = await semanticSearch(searchQuery, adoptionType)\r\n            setPets(animalResults)\r\n\r\n            // Fetch locations for each animal\r\n            animalResults.forEach((animal) => {\r\n                if (animal.userId) {\r\n                    fetchUserLocation(animal.id, animal.userId)\r\n                }\r\n            })\r\n        } catch (error) {\r\n            console.error(\"Error performing search:\", error)\r\n            // You might want to show an error message to the user here\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const fetchUserLocation = async (animalId, userId) => {\r\n        try {\r\n            const response = await fetch(`${API_BASE_URL}/users/${userId}`)\r\n            if (!response.ok) {\r\n                console.warn(`Failed to fetch user data for ${userId}`)\r\n                return\r\n            }\r\n            const userData = await response.json()\r\n\r\n            if (userData.location && userData.location.coordinates && userData.location.coordinates.length === 2) {\r\n                const [longitude, latitude] = userData.location.coordinates\r\n\r\n                // Validate coordinates\r\n                if (\r\n                    typeof latitude === \"number\" &&\r\n                    typeof longitude === \"number\" &&\r\n                    latitude >= -90 &&\r\n                    latitude <= 90 &&\r\n                    longitude >= -180 &&\r\n                    longitude <= 180\r\n                ) {\r\n                    await fetchLocation(animalId, latitude, longitude)\r\n                } else {\r\n                    console.warn(`Invalid coordinates for animal ${animalId}: lat=${latitude}, lng=${longitude}`)\r\n                    setLocations((prevLocations) => ({ ...prevLocations, [animalId]: \"Locație indisponibilă\" }))\r\n                }\r\n            } else {\r\n                setLocations((prevLocations) => ({ ...prevLocations, [animalId]: \"Locație indisponibilă\" }))\r\n            }\r\n        } catch (error) {\r\n            console.warn(`Error fetching user location for ${userId}:`, error)\r\n            setLocations((prevLocations) => ({ ...prevLocations, [animalId]: \"Locație indisponibilă\" }))\r\n        }\r\n    }\r\n\r\n    const fetchLocation = async (animalId, latitude, longitude) => {\r\n        try {\r\n            const response = await fetch(`${API_BASE_URL}/reverse-geocode?latitude=${latitude}&longitude=${longitude}`)\r\n            if (!response.ok) {\r\n                console.warn(`Reverse geocoding failed for coordinates ${latitude}, ${longitude}. Status: ${response.status}`)\r\n                setLocations((prevLocations) => ({ ...prevLocations, [animalId]: \"Locație indisponibilă\" }))\r\n                return\r\n            }\r\n            const address = await response.text()\r\n            setLocations((prevLocations) => ({ ...prevLocations, [animalId]: address }))\r\n        } catch (error) {\r\n            console.warn(\"Error fetching location:\", error)\r\n            setLocations((prevLocations) => ({ ...prevLocations, [animalId]: \"Locație indisponibilă\" }))\r\n        }\r\n    }\r\n\r\n    const navigateToAdoption = (animalId) => {\r\n        window.location.href = `/book-adoption?animalId=${animalId}&type=standard`\r\n    }\r\n\r\n    const navigateToFostering = (animalId) => {\r\n        window.location.href = `/fostering?animalId=${animalId}&type=foster`\r\n    }\r\n\r\n    const navigateToDistantAdoption = (animalId) => {\r\n        window.location.href = `/distantAdoption?animalId=${animalId}&type=distant`\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen\">\r\n            <header className=\"border-b\">\r\n                <div className=\"container flex h-16 items-center justify-between px-4\">\r\n                    <a href=\"/home\" className=\"flex items-center gap-2\">\r\n                        <PawPrint className=\"h-6 w-6 text-green-600\" />\r\n                        <span className=\"text-xl font-bold\">PetPal Adoptions</span>\r\n                    </a>\r\n                    <nav className=\"flex gap-6\">\r\n                        <a className=\"text-sm font-medium hover:text-green-600 transition-colors\" href=\"/home\">\r\n                            Acasă\r\n                        </a>\r\n                        <a className=\"text-sm font-medium hover:text-green-600 transition-colors\" href=\"/adoption\">\r\n                            Adoptă acum\r\n                        </a>\r\n                        <a className=\"text-sm font-medium hover:text-green-600 transition-colors\" href=\"/editor_catalog\">\r\n                            Adaugă anunț adopție\r\n                        </a>\r\n                        <a className=\"text-sm font-medium hover:text-green-600 transition-colors\" href=\"/info\">\r\n                            ÎntreabăPetPal\r\n                        </a>\r\n                        <a className=\"text-sm font-medium hover:text-green-600 transition-colors\" href=\"/community\">\r\n                            Alătură-te comunității\r\n                        </a>\r\n                        <button\r\n                            className=\"flex items-center gap-1 text-sm font-medium text-red-600 hover:text-red-700 transition-colors ml-2\"\r\n                            onClick={() => {\r\n                                console.log(\"Logging out\")\r\n                                window.location.href = \"/login\"\r\n                            }}\r\n                        >\r\n                            <LogOut className=\"h-4 w-4\" />\r\n                            Deconectare\r\n                        </button>\r\n                    </nav>\r\n                </div>\r\n            </header>\r\n\r\n            <h1 className=\"text-4xl font-bold mt-8 mb-6 text-center\">Găsește-ți noul membru al familiei!</h1>\r\n\r\n            <div className=\"max-w-5xl mx-auto px-4 mb-8\">\r\n                <form onSubmit={handleSearch} className=\"flex flex-col gap-4\">\r\n                    <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-4\">\r\n                        <div className=\"relative lg:col-span-7\">\r\n                            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-6 w-6 text-gray-400\" />\r\n                            <Input\r\n                                id=\"searchQuery\"\r\n                                value={searchQuery}\r\n                                onChange={(e) => setSearchQuery(e.target.value)}\r\n                                placeholder=\"Ex: pisică blândă, potrivită pentru familie cu copii\"\r\n                                className=\"pl-12 py-4 text-lg w-full\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"lg:col-span-3\">\r\n                            <select\r\n                                value={adoptionType}\r\n                                onChange={(e) => setAdoptionType(e.target.value)}\r\n                                className=\"w-full h-full px-3 py-4 text-base border rounded-md focus:outline-none focus:ring-2 focus:ring-green-600\"\r\n                                aria-label=\"Tip relație\"\r\n                            >\r\n                                <option value=\"standard\">Adopție permanentă</option>\r\n                                <option value=\"foster\">Foster (temporar)</option>\r\n                                <option value=\"distant\">Adopție la distanță</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div className=\"lg:col-span-2\">\r\n                            <Button\r\n                                type=\"submit\"\r\n                                disabled={isLoading}\r\n                                className=\"w-full h-full py-4 px-6 text-lg bg-green-600 hover:bg-green-700 flex items-center justify-center\"\r\n                            >\r\n                                {isLoading ? <Loader2 className=\"animate-spin w-6 h-6\" /> : <Search className=\"w-6 h-6 mr-2\" />}\r\n                                {isLoading ? \"Căutare...\" : \"Caută\"}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"text-sm text-gray-600 mt-2\">\r\n                        {adoptionType === \"standard\" && (\r\n                            <p>Adopția permanentă înseamnă că animalul va deveni pe deplin membrul familiei tale.</p>\r\n                        )}\r\n                        {adoptionType === \"foster\" && (\r\n                            <p>\r\n                                Foster (temporar) - oferă un cămin temporar unui animal până când acesta își găsește o familie\r\n                                permanentă.\r\n                            </p>\r\n                        )}\r\n                        {adoptionType === \"distant\" && (\r\n                            <p>\r\n                                Adopția la distanță - sprijini financiar un animal care rămâne în adăpost, primind actualizări regulate.\r\n                            </p>\r\n                        )}\r\n                    </div>\r\n                </form>\r\n            </div>\r\n\r\n            <div className=\"max-w-6xl mx-auto px-4\">\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6\">\r\n                    {pets.map((pet) => (\r\n                        <PetCard\r\n                            key={pet.id}\r\n                            pet={pet}\r\n                            location={locations[pet.id]}\r\n                            onAdopt={navigateToAdoption}\r\n                            onFoster={navigateToFostering}\r\n                            onDistantAdopt={navigateToDistantAdoption}\r\n                        />\r\n                    ))}\r\n                </div>\r\n                {pets.length === 0 && !isLoading && (\r\n                    <div className=\"text-center mt-8 text-gray-600\">\r\n                        <p>\r\n                            Nu ai găsit ce cauți?{\" \"}\r\n                            <a href=\"/catalog\" className=\"text-green-600 font-semibold\">\r\n                                Vezi toate anunțurile\r\n                            </a>\r\n                        </p>\r\n                    </div>\r\n                )}\r\n                {pets.length > 0 && !isLoading && (\r\n                    <div className=\"text-center mt-8 mb-12 text-gray-600\">\r\n                        <p>\r\n                            Nu ai găsit ce cauți?{\" \"}\r\n                            <a href=\"/catalog\" className=\"text-green-600 font-semibold hover:underline\">\r\n                                Vezi toate anunțurile\r\n                            </a>\r\n                        </p>\r\n                    </div>\r\n                )}\r\n                {isLoading && (\r\n                    <div className=\"text-center mt-8\">\r\n                        <Loader2 className=\"animate-spin h-8 w-8 mx-auto text-green-600\" />\r\n                        <p className=\"mt-2 text-gray-600\">Se încarcă rezultatele...</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AdoptionPage\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}